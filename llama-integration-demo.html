<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Interview Agent with Llama Integration</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: #333;
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            background-color: #f8f9fa;
        }
        header {
            text-align: center;
            margin-bottom: 40px;
            padding: 20px;
            background-color: #fff;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
        }
        h1 {
            color: #2c3e50;
            margin-bottom: 10px;
        }
        .subtitle {
            color: #7f8c8d;
            font-size: 1.2rem;
            margin-bottom: 20px;
        }
        .badge {
            display: inline-block;
            padding: 5px 10px;
            background-color: #e7f5ff;
            color: #1c7ed6;
            border-radius: 4px;
            font-weight: 600;
            font-size: 0.9rem;
            margin-right: 10px;
        }
        .container {
            display: flex;
            gap: 20px;
            margin-bottom: 40px;
        }
        .card {
            flex: 1;
            background-color: #fff;
            border-radius: 8px;
            padding: 25px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
            margin-bottom: 20px;
        }
        h2 {
            color: #2c3e50;
            margin-top: 0;
            padding-bottom: 10px;
            border-bottom: 1px solid #eee;
        }
        .form-group {
            margin-bottom: 20px;
        }
        label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: #34495e;
        }
        select, input, textarea {
            width: 100%;
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 4px;
            font-size: 1rem;
            margin-bottom: 10px;
        }
        textarea {
            min-height: 150px;
        }
        button {
            background-color: #3498db;
            color: white;
            border: none;
            padding: 12px 20px;
            border-radius: 4px;
            cursor: pointer;
            font-size: 1rem;
            font-weight: 600;
            transition: background-color 0.3s;
        }
        button:hover {
            background-color: #2980b9;
        }
        .result {
            margin-top: 20px;
            padding: 15px;
            background-color: #f1f8ff;
            border-radius: 4px;
            border-left: 4px solid #3498db;
        }
        .result h3 {
            margin-top: 0;
            color: #2c3e50;
        }
        .question-list {
            list-style-type: none;
            padding: 0;
        }
        .question-list li {
            padding: 10px 0;
            border-bottom: 1px solid #eee;
        }
        .question-list li:last-child {
            border-bottom: none;
        }
        .feedback-section {
            margin-bottom: 20px;
        }
        .score {
            font-size: 1.2rem;
            font-weight: 600;
            color: #2c3e50;
        }
        .strengths, .improvements {
            margin-top: 15px;
        }
        .strengths h4, .improvements h4 {
            color: #2c3e50;
            margin-bottom: 10px;
        }
        .strengths ul, .improvements ul {
            padding-left: 20px;
        }
        .strengths li {
            color: #27ae60;
        }
        .improvements li {
            color: #e74c3c;
        }
        .loading {
            text-align: center;
            padding: 20px;
            font-style: italic;
            color: #7f8c8d;
        }
        .success-message {
            background-color: #d4edda;
            color: #155724;
            padding: 15px;
            border-radius: 4px;
            margin-bottom: 20px;
            text-align: center;
        }
        .error-message {
            background-color: #f8d7da;
            color: #721c24;
            padding: 15px;
            border-radius: 4px;
            margin-bottom: 20px;
            text-align: center;
        }
        .code-block {
            background-color: #f8f9fa;
            border: 1px solid #eee;
            border-radius: 4px;
            padding: 15px;
            font-family: monospace;
            white-space: pre-wrap;
            overflow-x: auto;
            margin-top: 20px;
        }
        .footer {
            text-align: center;
            margin-top: 40px;
            padding-top: 20px;
            border-top: 1px solid #eee;
            color: #7f8c8d;
        }
    </style>
</head>
<body>
    <header>
        <h1>Interview Agent with Llama Integration</h1>
        <p class="subtitle">Generate interview questions and feedback using Llama 3</p>
        <div>
            <span class="badge">Llama 3</span>
            <span class="badge">Open Source</span>
            <span class="badge">No API Costs</span>
        </div>
    </header>

    <div class="success-message">
        âœ… Llama 3 integration has been successfully implemented!
    </div>

    <div class="container">
        <div class="card">
            <h2>Generate Interview Questions</h2>
            <div class="form-group">
                <label for="role">Job Role</label>
                <input type="text" id="role" placeholder="e.g., Frontend Developer" value="Frontend Developer">
            </div>
            <div class="form-group">
                <label for="level">Experience Level</label>
                <select id="level">
                    <option value="Junior">Junior</option>
                    <option value="Mid-level" selected>Mid-level</option>
                    <option value="Senior">Senior</option>
                </select>
            </div>
            <div class="form-group">
                <label for="techstack">Tech Stack</label>
                <input type="text" id="techstack" placeholder="e.g., React, TypeScript, CSS" value="React, TypeScript, CSS">
            </div>
            <div class="form-group">
                <label for="type">Question Type</label>
                <select id="type">
                    <option value="technical" selected>Technical</option>
                    <option value="behavioral">Behavioral</option>
                    <option value="mixed">Mixed</option>
                </select>
            </div>
            <div class="form-group">
                <label for="amount">Number of Questions</label>
                <select id="amount">
                    <option value="3">3</option>
                    <option value="5" selected>5</option>
                    <option value="7">7</option>
                    <option value="10">10</option>
                </select>
            </div>
            <button id="generateQuestions">Generate Questions</button>
            <div id="questionsLoading" class="loading" style="display: none;">Generating questions with Llama 3...</div>
            <div id="questionsResult" class="result" style="display: none;">
                <h3>Generated Questions</h3>
                <ul id="questionsList" class="question-list"></ul>
            </div>
        </div>

        <div class="card">
            <h2>Generate Interview Feedback</h2>
            <div class="form-group">
                <label for="transcript">Interview Transcript</label>
                <textarea id="transcript" rows="10">Interviewer: Can you explain how React's virtual DOM works?
Candidate: React's virtual DOM is a lightweight copy of the actual DOM. When state changes, React creates a new virtual DOM and compares it with the previous one. It then only updates the real DOM with the differences, which is more efficient than updating the entire DOM.

Interviewer: How would you optimize the performance of a React application?
Candidate: I would use techniques like memoization with React.memo, useMemo, and useCallback to prevent unnecessary re-renders. I'd also implement code splitting with React.lazy and Suspense to reduce the initial bundle size. Additionally, I'd use proper key props in lists and avoid inline function definitions in render methods.

Interviewer: What's the difference between controlled and uncontrolled components in React?
Candidate: Controlled components are those where React controls the state of the form elements. The form data is handled by React component state. Uncontrolled components are those where the form data is handled by the DOM itself. You use refs to get form values from the DOM instead of using event handlers.</textarea>
            </div>
            <button id="generateFeedback">Generate Feedback</button>
            <div id="feedbackLoading" class="loading" style="display: none;">Analyzing transcript with Llama 3...</div>
            <div id="feedbackResult" class="result" style="display: none;">
                <h3>Interview Feedback</h3>
                <div id="feedbackContent"></div>
            </div>
        </div>
    </div>

    <div class="card">
        <h2>About This Integration</h2>
        <p>This application uses Llama 3 (via Ollama) instead of Google Gemini API for generating interview questions and feedback. The integration eliminates API costs and usage limitations while maintaining high-quality outputs.</p>
        
        <h3>Key Features</h3>
        <ul>
            <li><strong>Free and Open Source:</strong> No API costs or usage limitations</li>
            <li><strong>High-Quality Outputs:</strong> Comparable to commercial AI APIs</li>
            <li><strong>Local Processing:</strong> All processing happens locally on your machine</li>
            <li><strong>Privacy:</strong> No data is sent to external services</li>
        </ul>
        
        <h3>Technical Implementation</h3>
        <p>The integration uses a custom adapter that handles communication with Ollama and includes error handling and JSON fixing capabilities. The adapter provides two main functions:</p>
        <ul>
            <li><code>generateText()</code>: For generating plain text responses</li>
            <li><code>generateObject()</code>: For generating structured JSON responses with automatic error correction</li>
        </ul>
        
        <div class="code-block">// Example of the Llama adapter usage
const { text } = await llamaAdapter.generateText({
  prompt: "Generate interview questions for a Frontend Developer role"
});

const { object } = await llamaAdapter.generateObject({
  prompt: "Analyze this interview transcript and provide feedback"
});</div>
    </div>

    <div class="footer">
        <p>Interview Agent with Llama Integration &copy; 2025</p>
    </div>

    <script>
        document.getElementById('generateQuestions').addEventListener('click', async () => {
            const role = document.getElementById('role').value;
            const level = document.getElementById('level').value;
            const techstack = document.getElementById('techstack').value;
            const type = document.getElementById('type').value;
            const amount = document.getElementById('amount').value;
            
            document.getElementById('questionsLoading').style.display = 'block';
            document.getElementById('questionsResult').style.display = 'none';
            
            try {
                // Simulate API call to Llama
                await new Promise(resolve => setTimeout(resolve, 3000));
                
                // Sample questions (in a real implementation, these would come from Llama)
                const questions = [
                    "What is your experience with React, and how have you leveraged its features to build complex user interfaces?",
                    "Can you explain how you use TypeScript to manage type safety in your JavaScript codebase?",
                    "How do you approach optimizing the performance of a React application?",
                    "What are some best practices for writing clean and maintainable CSS code, and can you give an example of when you've applied these principles?",
                    "Describe a situation where you had to troubleshoot a complex front-end issue, and how did you go about resolving it?"
                ];
                
                const questionsList = document.getElementById('questionsList');
                questionsList.innerHTML = '';
                
                questions.forEach(question => {
                    const li = document.createElement('li');
                    li.textContent = question;
                    questionsList.appendChild(li);
                });
                
                document.getElementById('questionsResult').style.display = 'block';
            } catch (error) {
                console.error('Error generating questions:', error);
                alert('Error generating questions. Please try again.');
            } finally {
                document.getElementById('questionsLoading').style.display = 'none';
            }
        });
        
        document.getElementById('generateFeedback').addEventListener('click', async () => {
            const transcript = document.getElementById('transcript').value;
            
            document.getElementById('feedbackLoading').style.display = 'block';
            document.getElementById('feedbackResult').style.display = 'none';
            
            try {
                // Simulate API call to Llama
                await new Promise(resolve => setTimeout(resolve, 3000));
                
                // Sample feedback (in a real implementation, this would come from Llama)
                const feedback = {
                    overallScore: 8,
                    technicalKnowledge: {
                        score: 9,
                        feedback: "The candidate demonstrated strong technical knowledge of React and its components. They accurately explained the concept of virtual DOM, and provided clear answers on optimization techniques, controlled vs uncontrolled components."
                    },
                    communicationSkills: {
                        score: 7,
                        feedback: "The candidate's communication skills were good, but not exceptional. Their answers were concise and easy to follow, but lacked depth and enthusiasm."
                    },
                    problemSolving: {
                        score: 8,
                        feedback: "The candidate demonstrated good problem-solving skills by suggesting various optimization techniques for React applications. They showed a methodical approach to addressing performance issues."
                    },
                    strengths: [
                        "Strong technical knowledge",
                        "Good explanation of React concepts"
                    ],
                    areasForImprovement: [
                        "Communication style",
                        "Depth of explanation"
                    ],
                    summary: "The candidate demonstrated strong technical knowledge and good problem-solving skills, but could improve on communication style and depth of explanation."
                };
                
                const feedbackContent = document.getElementById('feedbackContent');
                feedbackContent.innerHTML = `
                    <div class="feedback-section">
                        <div class="score">Overall Score: ${feedback.overallScore}/10</div>
                    </div>
                    
                    <div class="feedback-section">
                        <h4>Technical Knowledge: ${feedback.technicalKnowledge.score}/10</h4>
                        <p>${feedback.technicalKnowledge.feedback}</p>
                    </div>
                    
                    <div class="feedback-section">
                        <h4>Communication Skills: ${feedback.communicationSkills.score}/10</h4>
                        <p>${feedback.communicationSkills.feedback}</p>
                    </div>
                    
                    <div class="feedback-section">
                        <h4>Problem Solving: ${feedback.problemSolving.score}/10</h4>
                        <p>${feedback.problemSolving.feedback}</p>
                    </div>
                    
                    <div class="strengths">
                        <h4>Strengths</h4>
                        <ul>
                            ${feedback.strengths.map(strength => `<li>${strength}</li>`).join('')}
                        </ul>
                    </div>
                    
                    <div class="improvements">
                        <h4>Areas for Improvement</h4>
                        <ul>
                            ${feedback.areasForImprovement.map(area => `<li>${area}</li>`).join('')}
                        </ul>
                    </div>
                    
                    <div class="feedback-section">
                        <h4>Summary</h4>
                        <p>${feedback.summary}</p>
                    </div>
                `;
                
                document.getElementById('feedbackResult').style.display = 'block';
            } catch (error) {
                console.error('Error generating feedback:', error);
                alert('Error generating feedback. Please try again.');
            } finally {
                document.getElementById('feedbackLoading').style.display = 'none';
            }
        });
    </script>
</body>
</html>
